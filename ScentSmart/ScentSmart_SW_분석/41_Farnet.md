
---

````md
# π” Fernet μ•”νΈν™”λ€?

**Fernet**μ€ Pythonμ `cryptography` ν¨ν‚¤μ§€μ—μ„ μ κ³µν•λ”  
**λ€μΉ­ν‚¤ κΈ°λ° μ•”νΈν™” λ°©μ‹** μ¤‘ ν•λ‚λ΅,  
**μ•μ „ν•κ³  μ‰½κ² μ“Έ μ μλ” μ•”νΈν™” λ„κµ¬**μ…λ‹λ‹¤.

---

## π“ 1. Fernetμ ν•µμ‹¬ κ°λ…

| ν•­λ© | μ„¤λ… |
|------|------|
| π”‘ **λ°©μ‹** | λ€μΉ­ν‚¤ (κ°™μ€ ν‚¤λ΅ μ•”νΈν™” / λ³µνΈν™”) |
| π”’ **μ•”νΈν™” μ•κ³ λ¦¬μ¦** | AES-128 (CBC λ¨λ“) |
| π›΅οΈ **λ¬΄κ²°μ„± κ²€μ¦** | HMAC-SHA256 μ‚¬μ© |
| π“¦ **μ•”νΈλ¬Έ ν¬λ§·** | URL-safe base64 λ¬Έμμ—΄ |
| π•’ **νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨** | λ©”μ‹μ§€ μƒμ„± μ‹κ°„ κΈ°λ΅ (μ„ νƒμ  λ§λ£ TTL κ°€λ¥) |

---

## π§ 2. κ°„λ‹¨ν• μμ‹ μ½”λ“

```python
from cryptography.fernet import Fernet

# π” 1. ν‚¤ μƒμ„±
key = Fernet.generate_key()
cipher = Fernet(key)

# π” 2. μ•”νΈν™”
token = cipher.encrypt(b"hello world")
print(token)  # b'gAAAAABk...'

# π”“ 3. λ³µνΈν™”
original = cipher.decrypt(token)
print(original)  # b'hello world'
````

---

## π§± 3. Fernet μ•”νΈλ¬Έμ κµ¬μ΅°

Fernetμ€ μ•”νΈλ¬Έμ„ λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ΅ κµ¬μ„±ν•©λ‹λ‹¤:

```
[λ²„μ „(1)] + [νƒ€μ„μ¤νƒ¬ν”„(8)] + [IV(16)] + [μ•”νΈλ¬Έ(n)] + [HMAC-SHA256(32)]
```

|κµ¬μ„± μ”μ†|μ„¤λ…|
|---|---|
|Version (1B)|λ²„μ „ μ •λ³΄ (ν„μ¬λ” 0x80)|
|Timestamp (8B)|μ•”νΈν™” μ‹κ° (Unix μ‹κ°„)|
|IV (16B)|λλ¤ μ΄κΈ°ν™” λ²΅ν„°|
|Ciphertext|μ‹¤μ  μ•”νΈν™”λ λ°μ΄ν„°|
|HMAC (32B)|λ¬΄κ²°μ„± κ²€μ¦μ© μ„λ… (SHA256)|

---

## π§  4. λ€μΉ­ν‚¤λ€?

- **ν•λ‚μ ν‚¤λ΅ μ•”νΈν™”μ™€ λ³µνΈν™” λ‘ λ‹¤ κ°€λ¥**
    
- μ΄ ν‚¤λ” λ…Έμ¶λμ§€ μ•λ„λ΅ μ•μ „ν•κ² μ €μ¥ν•΄μ•Ό ν•¨ (μ: .env, OS keyring λ“±)
    

---

## π§± 5. μ‹¤μ „μ—μ„ μ‚¬μ©λλ” κ³³

- μ‚¬μ©μ μ •λ³΄ μ•”νΈν™” (μ΄λ¦„, μƒλ…„μ›”μΌ λ“±)
    
- μ›Ή μΈμ¦ ν† ν° (λ‹¨κΈ° μ €μ¥μ©)
    
- DBμ— μ €μ¥ν•  λ―Όκ° μ •λ³΄ (ν¨μ¤μ›λ“ μ μ™Έ)
    

> π”Έ λΉ„λ°€λ²νΈ μ €μ¥μ—λ” ν•΄μ‹(μ: `bcrypt`)λ¥Ό μ‚¬μ©ν•κ³   
> π”Έ Fernetμ€ **λ³µνΈν™”κ°€ ν•„μ”ν• λ°μ΄ν„°**μ— μ ν•©ν•©λ‹λ‹¤.

---

## β οΈ 6. μ£Όμμ‚¬ν•­

- ν‚¤κ°€ λ…Έμ¶λλ©΄ μ•”νΈλ¬Έ λ³µνΈν™”λ„ κ°€λ¥ν•΄μ§€λ―€λ΅ **λ³΄μ• κ΄€λ¦¬ μ² μ €**
    
- Fernetμ€ **λ€μ©λ‰ λ°μ΄ν„°μ—λ” μ ν•©ν•μ§€ μ•μ** (λ©”λ¨λ¦¬ κΈ°λ°)
    
- λ³µνΈν™” μ‹¤ν¨ μ‹ `InvalidToken` μμ™Έ λ°μƒ
    

---

## β… 7. Fernet vs λ‹¤λ¥Έ μ•”νΈν™”

|ν•­λ©|Fernet|RSA|bcrypt|
|---|---|---|---|
|μ•”νΈν™” λ°©μ‹|λ€μΉ­|λΉ„λ€μΉ­|ν•΄μ‹|
|λ³µνΈν™” κ°€λ¥?|β…|β…|β|
|μ£Ό μ‚¬μ©μ²|λ―Όκ°λ°μ΄ν„°|ν‚¤ κµν™, μ„λ…|λΉ„λ°€λ²νΈ μ €μ¥|
|μ†λ„|λΉ λ¦„|λλ¦Ό|μ¤‘κ°„|

---

## π“ μ”μ•½

> **Fernet = μ‰½κ³  μ•μ „ν• μ•”νΈν™” ν¬λ§·**  
> β†’ μ§§μ€ λ¬Έμμ—΄ λ°μ΄ν„° μ•”νΈν™”/λ³µνΈν™”μ— μ ν•©  
> β†’ AES-128 + HMAC-SHA256 κΈ°λ°  
> β†’ ν‚¤λ” λ°λ“μ‹ μ•μ „ν•κ² κ΄€λ¦¬ν•΄μ•Ό ν•¨

---

## π”— κ΄€λ ¨ λ¬Έμ„

- [cryptography.io κ³µμ‹ Fernet λ¬Έμ„](https://cryptography.io/en/latest/fernet/)
    
- [Fernet GitHub μ΄μ](https://github.com/pyca/cryptography)
    

```

---

ν•„μ”ν•λ©΄ μ΄ λ‚΄μ©μ„ PDFλ‚ Word λ¬Έμ„λ΅λ„ λ§λ“¤μ–΄μ¤„ μ μμ–΄.  
νΉμ€ `dsCrypto.py`μ—μ„ Fernet μ»¤μ¤ν„°λ§μ΄μ§•ν• λ°©μ‹κΉμ§€ ν¬ν•¨ν• λ‚΄λ¶€ λ™μ‘λ„ ν™•μ¥ν•΄μ¤„ μλ„ μμ–΄. μ–΄λ–»κ² λ„μ™€μ¤„κΉ?
```