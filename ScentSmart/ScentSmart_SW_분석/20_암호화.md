

---

````markdown
# π” dsCrypto.py: Fernet λ€μΉ­ν‚¤ κΈ°λ° μ•”νΈν™” λ¨λ“ λ¶„μ„

μ΄ λ¨λ“μ€ **Fernet** κΈ°λ°μ μ•μ „ν• λ€μΉ­ν‚¤ μ•”νΈν™” κΈ°λ¥μ„ μ κ³µν•λ©°, λ―Όκ° μ •λ³΄(μ: μ΄λ¦„, λΉ„λ°€λ²νΈ λ“±)μ μ €μ¥κ³Ό λ³µνΈν™”λ¥Ό κ°„νΈν•κ² μ²λ¦¬ν•©λ‹λ‹¤.

---

## π”‘ μ•”νΈν™” κ°λ… μ”μ•½

| μ©μ–΄ | μ„¤λ… |
|------|------|
| μ•”νΈν™” (Encryption) | ν‰λ¬Έμ„ μ‚¬λμ΄ μ½μ„ μ μ—†λ” μ•”νΈλ¬ΈμΌλ΅ λ³€ν™ |
| λ³µνΈν™” (Decryption) | μ•”νΈλ¬Έμ„ λ‹¤μ‹ ν‰λ¬ΈμΌλ΅ λ³µμ› |
| λ€μΉ­ν‚¤ μ•”νΈν™” | μ•”νΈν™”μ™€ λ³µνΈν™”μ— κ°™μ€ keyλ¥Ό μ‚¬μ© |

---

## π›΅οΈ Fernet λ°©μ‹μ νΉμ§•

- Python `cryptography` ν¨ν‚¤μ§€ μ κ³µ
- **128bit AES + CBC + HMAC (SHA256)**
- **μλ™ λλ¤ IV** λ° **νƒ€μ„μ¤νƒ¬ν”„ ν¬ν•¨**
- μ•”νΈλ¬Έμ€ **base64 μΈμ½”λ”© λ¬Έμμ—΄**λ΅ μ¶λ ¥

---

## π“„ dsCrypto.py κµ¬μ΅°

### π” μ£Όμ” κ°μ²΄ λ° λ³€μ

| μ΄λ¦„ | μ„¤λ… |
|------|------|
| `key` | λ€μΉ­ λΉ„λ°€ν‚¤ (base64 μΈμ½”λ”©λ λ°”μ΄νΈμ—΄) |
| `iv` | μ΄κΈ°ν™” λ²΅ν„° (λΉ„ν‘μ¤€ encryptμ—μ„ μ‚¬μ©) |
| `cipher` | `Fernet(key)` κ°μ²΄, μ•”νΈν™” μν–‰ μ£Όμ²΄ |

---

### π§© μ£Όμ” ν•¨μ μ„¤λ…

#### 1. `encryptMessageVar(message)`
- β… **ν‘μ¤€ Fernet λ°©μ‹ μ•”νΈν™”**
- μλ™μΌλ΅ IV, HMAC, νƒ€μ„μ¤νƒ¬ν”„ μ²λ¦¬
- λ°ν™κ°’: base64 λ¬Έμμ—΄ μ•”νΈλ¬Έ

```python
μ•”νΈλ¬Έ = encryptMessageVar("hello123")
````

---

#### 2. `encryptMessage(message)`

- β— **λΉ„ν‘μ¤€ λ°©μ‹** (λ‚΄λ¶€ `_encrypt_from_parts` μ‚¬μ©)
    
- μ§μ ‘ IV μ§€μ •, μ‹¤λ¬΄μ—μ„λ” κ¶μ¥λμ§€ μ•μ
    

---

#### 3. `decryptMessage(encryptedMessage)`

- μ•”νΈλ¬Έμ„ λ³µνΈν™”ν•μ—¬ ν‰λ¬Έ λ³µμ›
    
- ν‚¤κ°€ μΌμΉν•΄μ•Ό μ •μƒ λ³µνΈν™” κ°€λ¥
    

```python
ν‰λ¬Έ = decryptMessage(μ•”νΈλ¬Έ)
```

---

## π’Ό μ‚¬μ© μ‹λ‚λ¦¬μ¤

- β… DBμ— λ―Όκ°μ •λ³΄ μ €μ¥ μ‹ μ•”νΈν™”
    
- β… λΉ„λ°€λ²νΈ λ“± μ‚¬μ©μ μ •λ³΄ λ…Έμ¶ λ°©μ§€
    
- β… λ‚΄λ¶€ λ΅μ§μΌλ΅λ§ λ³µνΈν™” κ°€λ¥
    

---

## π§  λ³΄μ• ν¬μΈνΈ

|ν•­λ©|μ„¤λ…|
|---|---|
|β… μ•μ „μ„±|AES + HMAC + IV + νƒ€μ„μ¤νƒ¬ν”„ μ΅°ν•©|
|β— ν‚¤ κ΄€λ¦¬|ν‚¤ μ μ¶ μ‹ λ³΄μ• λ¬΄λ ¥ν™” β†’ μ•μ „ν• λ³΄κ΄€ ν•„μ|
|π”’ λ¬΄κ²°μ„± κ²€μ¦|μ„λ³€μ΅° μ‹ λ³µνΈν™” μ‹¤ν¨ μ²λ¦¬|

---

## π§ μμ‹

```python
from dsCrypto import encryptMessageVar, decryptMessage

μ•”νΈλ¬Έ = encryptMessageVar("my_password")
ν‰λ¬Έ = decryptMessage(μ•”νΈλ¬Έ)
print(ν‰λ¬Έ)  # 'my_password'
```

---

## π§Ύ κ²°λ΅ 

- `dsCrypto.py`λ” **Fernet λ€μΉ­ν‚¤ μ•”νΈν™” μ ν‹Έλ¦¬ν‹°**
    
- DBλ‚ νμΌμ— μ €μ¥λλ” κ°μΈμ •λ³΄λ¥Ό **μ•μ „ν•κ² μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•  μ μκ² λ„μ™€μ£Όλ” ν•µμ‹¬ λ¨λ“**
    
- μ‹¤λ¬΄μ—μ„ DB ν•„λ“κ°€ μ΄μƒν•κ² κΈ΄ λ¬Έμμ—΄λ΅ λ³΄μ΄λ©΄, μ΄λ° μ•”νΈν™”κ°€ μ μ©λμ—μ„ κ°€λ¥μ„± λ†’μ
    
