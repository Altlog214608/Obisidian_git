# ✅ 레지스터(Register)와 ModBUS 통신 개념 정리

## 📌 레지스터(Register)란?

**레지스터**는 마이크로컨트롤러(MCU), 센서, PLC 등 하드웨어 내부에서 쓰이는 **아주 작은 메모리 저장 공간**입니다.

### ✅ 개념 정리

- **하드웨어의 변수**: 메모리 내에 바이트 단위로 존재
- **용도**: 장치 동작상태, 설정값, 결과값 등을 저장
- **주소 지정**: 각 레지스터는 고유한 번호(주소)를 가짐

### ✅ 예시

- `4200번` → 동작 명령
- `4212번` → PWM 파형 세기
- `4043~4045번` → 온도/압력 센서 값

```python
sendMsgWriteSingleRegister(id=1, func=6, address=4212, data_command=400)
# → 4212번 레지스터에 400 값을 씀
```

---

## ✅ 왜 중요한가?

- 모든 장치 제어가 **특정 레지스터 읽기·쓰기**로 이루어짐
- 정해진 구조로 관리되어 **오류 예방 및 유지보수에 유리**
- 장치 매뉴얼에 반드시 "레지스터 맵" 존재

---

## ✅ 한 줄 요약

**레지스터는 하드웨어 내부에서 설정값·상태값·결과값을 저장하는 '번호 붙은 데이터 칸'이며, 외부에서 이 번호를 통해 데이터를 읽고 쓸 수 있습니다.**

---

# ✅ ModBUS 통신 프로토콜

## 📌 개요

**ModBUS**는 산업 자동화 현장에서 널리 쓰이는 **국제 통신 프로토콜**입니다.

### ✅ 핵심 개념

- **목적**: 제조사 관계없이 여러 장비가 통신 가능하게 표준화
- **구조**: 마스터(명령) ↔ 슬레이브(응답)
- **전송 방식**: RS-232, RS-485, TCP/IP 등

---

## ✅ 데이터 구조 (패킷 예시)

```
[장치ID][명령코드][주소][데이터][CRC]
```

- 각 바이트는 고정된 의미를 가짐
- 예: `"4200 주소에 400 쓰기"` → `01 06 10 68 01 90 CRC`

---

## ✅ ModBUS가 하는 일

- **레지스터 제어**: 주소 지정 후 읽기/쓰기
- **장비 상태 질의 및 설정**
- **에러 검출**: CRC16 등 포함

---

## ✅ 주요 특징 요약

| 항목       | 설명 |
|----------|------|
| 오픈 규격  | 무료, 국제적으로 사용 가능 |
| 범용성     | 대부분 장비 및 제어기기 지원 |
| 신뢰성     | CRC 체크로 오류 방지 |
| 간결성     | 바이트 기반 구조로 단순 |

---

## ✅ 한 줄 요약

**ModBUS는 다양한 하드웨어 장치들이 '동일한 언어(패킷·함수코드·주소)'로 통신할 수 있게 해주는 국제 표준 프로토콜입니다.**

